{% extends '../../../admin.html.twig' %}

{% block title %}Association{% endblock %}

{% block javascripts %}
    {{ parent() }}
{% endblock %}

{% block header_content %}
    {{ include('composants/page_headings.html.twig', {
        firstLabel : 'Associations',
        firstLabel_route: 'mac_admin_association_index',
        secondLabel : 'Fiche',
        secondLabel_route: null,
        thirdLabel : null,
        thirdLabel_route: null,
        label : 'Mon association'
    }) }}
{% endblock %}

{% block sidebar_header %}
    <div class="flex-none">
        <div class="">
            <img src="{{ asset('images/jpg/spdm.jpg') }}" alt="" class="h-18 w-full object-cover rounded-t lg:h-24" />
        </div>
        <div class="mx-auto max-w-5xl px-4 sm:px-6 lg:px-8">
            <div class="-mt-12 sm:-mt-16 sm:flex sm:items-end sm:space-x-5">
                <div class="flex">
                    <img src="{{ asset('associations/'~association.slug~'/logo/'~association.logoName) }}" alt="" class="size-18 rounded-full object-cover ring ring-sky-700 sm:size-24" />
                </div>
            </div>
        </div>
        <div class="px-2 py-3 -mt-8">
            <h3 class="font-semibold text-sky-900 pb-1 text-end uppercase">{{ association.name }}</h3>
            <p class="text-sm text-end">
                {{ association.address }}
                {% if association.bisAddress is not null %}<br>{{ association.bisAddress }}{% else %}{% endif %}
                <br>{{ association.zipcode }} {{ association.city }}
            </p>
        </div>
    </div>
{% endblock %}

{% block sidebar_content%}
    <div class="px-2 py-3 flex flex-row gap-2">
        <div class="flex 1">
            <div class="flex flex-col">
                <div class="border border-solid">
                    gestion des membres
                </div>
                <div class="border border-solid">
                    gestion des activités
                </div>
            </div>

        </div>
        <div class="flex 1">
            <div class="flex flex-col">
                <div class="border border-solid">
                    gestion des cotisations
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block sidebar_footer %}
    <div class="px-2 py-3 flex flex-row justify-between">
        <div>
            {% include '../../../composants/buttons/button_success.html.twig' with {'id': '', 'href' : path('mac_admin_association_index'), 'icon' : '<i class="fa-regular fa-chevrons-left"></i>','text':'Retour' } %}
            {% include '../../../composants/buttons/button_success.html.twig' with {'id': '','href' : path('mac_admin_association_edit', {'id': association.id}), 'icon' : '<i class="fa-duotone fa-solid fa-pen-circle"></i>','text':'Modifer' } %}
        </div>
        <div>
            {{ include('gestion/association/_delete_form.html.twig') }}
        </div>
    </div>
{% endblock %}

{% block utils %}
    {% include '../../../composants/buttons/button_utils.html.twig' with {
        'id' : 'btnAddMember',
        'array':'ADDMEMBER-Créer une nouvelle fiche de membre',
        'href' : path('mac_admin_member_newjson', {'idAsso': association.id }),
        'icon' : '<i class="fa-light fa-user-plus"></i>','text':'ajouter' }
    %}
{% endblock %}

{% block main_content %}
    <div class="py-1 px-1" id="liste">
        {{ include('gestion/association/include/_listAdhesions.html.twig') }}
    </div>
{% endblock %}

{% block modals %}
    {{ parent() }}
{% endblock %}